<h3 style="text-align:center;">请扫描二维码收藏店铺</h3>
<div id="qrcode" style="margin-top:15px;position:relative" data-url="<%= "http://www.trade-v.com/weihuo/shops/#{params[:shop_id]}" %>">
  <div style="position:absolute; top:50%;left:50%;">
  <img src="<%= @shop.logo %>" style="width:100%;height:100%;">
  </div>
</div>

<script type="text/javascript">
  var url = $('#qrcode').attr('data-url');
  var qrcode = new QRCode(document.getElementById("qrcode"), url);
  var qrcode = new QRCode(document.getElementById("qrcode"), {
    text: url,
    width: 200,
    height: 200,
    colorDark : "#000000",
    colorLight : "#ffffff",
    correctLevel : QRCode.CorrectLevel.H
  });
  
</script>

<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript" src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<style type="text/css">
  #qrcode {
    display: block;
    margin: 0 auto;
  }
</style>