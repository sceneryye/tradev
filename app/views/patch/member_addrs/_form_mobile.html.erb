<style>
  #province,#city,#district{
    width: 100%;
    height: 100%;
  }

  .bottomdivsclearfix,.address{
   display: none;
 }


</style>



<hr/>
<div class="container-fluid">
  <%=form_for :addr, :url=>@method == :put ? @action_url : member_addrs_path, :remote=>true,:method=>@method||:post,:html=>{ :class=> "form-horizontal" } do |f|%>

  <input type="hidden" name="platform" value="<%=params[:platform]%>">
  <div class="new-addr <%='hide' unless display==true%>" id="addr_form">
    <div class="form-group">
      <%= f.label :name, "收货人姓名", :class => 'control-label' %>
      <div class="col-xs-10">
        <%=f.text_field :name %>
      </div>
    </div>

    <div class="form-group">
      <label>手机</label>
      <%=f.text_field :mobile, :class => 'form-control' %>
    </div>

    <div class="form-group">
      <label>固定电话</label>
      <%=f.text_field :tel, :class => 'form-control' %>
    </div>

    <div class="form-group">
     <label>邮编</label>
     <%=f.text_field :zip, :class => 'form-control' %>
   </div>

   <div class="form-group">
    <label>收货地址</label>
    <%=f.text_field :addr,:class=>"span5 form-control", :id=>"addr"%>
    <span class="help-inline error"></span>
  </div>
</div>


<div class="control-group">
  <label for="addr_area">收货地区</label>
  <%#=f.label :area, "收货地区：".html_safe%>
  <div class="controls">
    <%=f.select :province,Ecstore::Region.provinces.collect{|p| [p.local_name,p.region_id] },{:include_blank=>"请选择省" },{ :onchange=>"selectProvince(this,'#city','#district');",:id=>"province" }%>
    <%if @addr&&@addr.city%>
    <%=f.select :city,Ecstore::Region.cities_of(@addr.province).collect{|p| [p.local_name,p.region_id] },{:include_blank=>"请选择市"},{ :onchange=>"selectCity(this,'#district');",:id=>"city" }%>
    <%else%>
    <%=f.select :city, {}, { :include_blank=>"请选择市" }, { :onchange=>"selectCity(this,'#district');",:id=>"city" }%>
    <%end%>

    <%unless @addr&&@addr.new_record?%>
    <%=f.select :district,Ecstore::Region.districts_of(@addr&&@addr.city).collect{|p| [p.local_name,p.region_id] },{:include_blank=>"请选择区/县" },{ :onchange=>"selectDistrict(this);",:id=>"district",:style=>"#{'display:none;' if @addr.district.blank? }" } %>
    <%else%>
    <%=f.select :district, {}, { :include_blank=>"请选择区/县" }, { :onchange=>"selectDistrict(this);",:id=>"district" }%>
    <%end%>
    <span class="help-inline error"></span>
  </div>
</div>

<div class="control-group">
  <label class="control-label" for="addr_def_addr">设置默认:</label>
  <%#=f.label :def_addr, "设置默认："%>
  <div class="controls">
    <%=f.check_box :def_addr, {}, 1, 0 %><span><%=I18n.t "default"%></span>
    <span class="help-inline error"></span>
  </div>     </div>

  <div class="control-group">
    <div class="controls">
      <%if @method == :put%>
      <input type="submit" class="btn btn-inverse" value="<%=I18n.t "modify"%>">
      <%#=f.submit "修 改",:class=>"am-btn am-btn-warning am-btn-block" %>
      <%else%>
      <input type="submit" class="btn btn-inverse " value="<%=I18n.t "confirm"%>">
      <%#=f.submit "确认收货地址",:class=>"am-btn am-btn-warning am-btn-block" %>
      <%end%>
    </div>
  </div>

</div>

<%end%>








<script>
 $(".am-btn-block").click(function(){
   var mobile=$("#addr_mobile").val()

   if(mobile.length==0)
   {
     alert('请输入手机号码！');

     return false;
   }
   else if(mobile.length!=11)
   {
     alert('请输入有效的手机号码！');

     return false;
   }

   else{
     $(".form-horizontal").submit();
   }

 })




 function validatemobile(mobile)
 {

 }
</script>
